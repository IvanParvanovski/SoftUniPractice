var connection = (new signalR.HubConnectionBuilder).withUrl("/Home/Index").build(); connection.on("receiveMessage", addMessageToChat); connection.start()["catch"](function (a) { console.error(a.message) }); function sendMessageToHub(a) { connection.invoke("sendMessage", a) };